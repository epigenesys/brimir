<div class="container">
  <div class="card">
    <div class="card-header">
      <%= link_to t(:new_email_template), new_email_template_path, class: 'btn btn-primary float-right' %>
      <h2 class="mb-0"><%= t(:email_templates) %></h2>
    </div>
    <table class="table card-body">
      <thead>
        <tr>
          <th><%= EmailTemplate.human_attribute_name(:name) %></th>
          <th><%= EmailTemplate.human_attribute_name(:kind) %></th>
          <th><%= t(:status) %></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @email_templates.each do |email_template| %>
          <tr>
            <td><%= email_template.name %></td>
            <td><%= t(:"activerecord.attributes.email_template.kinds.#{email_template.kind}.template_name") %></td>
            <td>
              <% if email_template.is_active? %>
                  <%= fa_icon 'check' %>
              <% else %>
                <%= link_to t(:set_active), email_template_path(
                  email_template, email_template: { draft: false }), method: :put,
                      'data-confirm' => ask_if_not_draft_exists(
                          @email_templates, email_template.kind) %>
              <% end %>
            </td>
            <td>
              <%= link_to edit_email_template_path(email_template),
                class: 'btn btn-sm btn-primary' do %>
                <%= fa_icon 'edit' %>
              <% end %>
              <%= link_to email_template_path(email_template), method: :delete,
                  'data-confirm' => check_settings(@tenant, email_template),
                  class: 'btn btn-sm btn-danger' do %>
                <%= fa_icon 'trash' %>
              <% end %>
            </td>
        <% end %>
      </tbody>
    </table>
    <div class="card-footer">
      <%= will_paginate @email_template %>
    </div>
  </div>
</div>